" Source your .vimrc
" source ~/.vimrc

let mapleader=' '

" -- Keymaps

noremap \ "_
xnoremap p P
noremap U <C-r>
noremap <leader>cc :edit ~/.ideavimrc<CR>
noremap <leader>cs :source ~/.ideavimrc<CR>:nohlsearch<CR>
nnoremap <ESC> :nohlsearch<CR>
inoremap jk <ESC>
nnoremap <leader>gg ggVGy

" -- Options

set clipboard^=unnamed,unnamedplus
set matchpairs+=<:>
set ideajoin
set hlsearch
set ignorecase
set smartcase
set incsearch
" set timeoutlen=1000

" -- 이해 부족한 것들
set scrolloff=5
map <leader>vs <Action>(ViewSource) " 커서가 위치한 요소의 원본 소스 코드를 보여줍니다.
map <leader>uu <Action>(ShowUsages) " 클래스, 변수, 함수, 메서드 등 코드 요소가 프로젝트 내에서 어디에서 사용되고 있는지 목록을 보여줍니다.
map <leader>qt <Action>(QuickTypeDefinition)
map <leader>ra <Action>(RearrangeCode)

" -- Actions
map w [w
map e ]w
map b [b
map ge ]b

" -- Navigation
map <C-h> <C-w>h
map <C-j> <C-w>j
map <C-k> <C-w>k
map <C-l> <C-w>l
map mk <Action>(MethodUp)
map mj <Action>(MethodDown)
nnoremap <leader>tn :action NextTab<CR>
nnoremap <leader>tp :action PreviousTab<CR>
map <leader>lc <Action>(JumpToLastChange)

" -- Tab
map <leader>sv <Action>(SplitVertically)
map <leader>sh <Action>(SplitHorizontally)
map <leader>sa <Action>(UnsplitAll)
map <leader>sm <Action>(ToggleDistractionFreeMode)

map <leader>fc <Action>(GotoClass)
map <leader>ff <Action>(GotoFile)
map <leader>fs <Action>(GotoSymbol)
map <leader>fa <Action>(GotoAction)
map <leader>fr <Action>(RecentFiles)
map <leader>ll <Action>(RecentLocations)

map gd <Action>(GotoDeclaration)
map gi <Action>(GotoImplementation)
map gt <Action>(GotoTypeDeclaration)
map gm <Action>(GotoSuperMethod)
map <leader>T <Action>(GotoTest)

map <leader>ug <Action>(FindUsages)
map <leader>qi <Action>(QuickImplementations)
map <leader>et <Action>(ExpressionTypeInfo)
map <leader>sh <Action>(ShowHoverInfo)
map <leader>oo <Action>(FileStructurePopup)

map <S-f> <Action>(Find)
map <S-r> <Action>(Replace)
map <leader>F <Action>(FindInPath)
map <leader>R <Action>(ReplaceInPath)

"-- Refactoring
map <leader>rn <Action>(RenameElement)
map <leader>rm <Action>(ExtractMethod)
map <leader>rv <Action>(IntroduceVariable)
map <leader>rf <Action>(IntroduceField)
map <leader>rs <Action>(ChangeSignature)
map <leader>rr <Action>(Refactorings.QuickListPopupAction)

map <leader>aa <Action>(ShowIntentionActions)
map <leader>sw <Action>(SurroundWith)
map <S-space> <Action>(Generate)
map <S-k> <Action>(EditorDuplicateLines)
nnoremap <C-;> :action EditorCompleteStatement<CR>
inoremap <C-;> :action EditorCompleteStatement<CR>
map <A-j> <Action>(MoveLineDown)
map <A-k> <Action>(MoveLineUp)
map <A-S-j> <Action>(MoveStatementDown)
map <A-S-k> <Action>(MoveStatementUp)

map <leader>en <Action>(GotoNextError)
map <leader>ep <Action>(GotoToPreviousError)
map <leader><leader> <Action>(ReformatCode)
map <leader>oi <Action>(OptimizeImports)

map <leader>ca <Action>(CopyAbsolutePath)
map <leader>cn <Action>(CopyFileName)
map <leader>cp <Action>(CopyContentRootPath)

map <leader>ri <Action>(RestartIde)
map <leader>qq <Action>(CloseContent)
map <leader>qa <Action>(CloseAllEditors)

nnoremap <leader>= :action EditorIncreaseFontSizeGlobal<CR>
nnoremap <leader>- :action EditorDecreaseFontSizeGlobal<CR>

map <leader>1 <Action>(Stop)
map <leader>2 <Action>(RunClass)
map <leader>3 <Action>(DebugClass)
map <leader>4 <Action>(Run)
map <leader>5 <Action>(Debug)

map <C-t> <Action>(ActivateTerminalToolWindow)
map <leader>an <Action>(ActivateRunToolWindow)
map <leader>ah <Action>(HideActiveWindow)


" -- Plugins

set NERDTree

" You can find a list of commands here: https://jb.gg/h38q75
" Find more examples here: https://jb.gg/share-ideavimrc
" Plugins, Enable IdeaVim plugins https://jb.gg/ideavim-plugins
"" Map IDE actions to IdeaVim -- https://jb.gg/abva4t